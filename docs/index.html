<!-- HTML header for doxygen 1.9.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VGamepad PC: VirtualGamePad Server</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
</script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript">
    DoxygenAwesomeParagraphLink.init()
</script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
</script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript">
    DoxygenAwesomeInteractiveToc.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">VGamepad PC
   </div>
   <div id="projectbrief">The Windows app for the virtual game controller.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">VirtualGamePad <a class="el" href="classServer.html">Server</a> </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a> This is a part of <a href="https://kitswas.github.io/VirtualGamePad/">the VirtualGamePad project</a>.</p>
<h1><a class="anchor" id="history-of-the-servers-development"></a>
History of the server's development</h1>
<ol type="1">
<li>The server was orginally writen in C++.</li>
<li>Then I rewrote it in Rust with <a href="https://github.com/microsoft/windows-rs">windows-rs</a> for Rust's memory safety and the newer Gamepad injection Windows support.</li>
<li><a href="https://learn.microsoft.com/en-us/uwp/api/windows.ui.input.preview.injection?view=winrt-22621">Windows.UI.Input.Preview.Injection</a>, as the name says, is in preview and is <a href="https://github.com/microsoft/microsoft-ui-xaml/issues/8639">buggy</a>. _(Read unusable)_ <br  />
 I, unfortunately, didn't know the source of the problems and decided to rewrite the app according to the Microsoft recommended way for Windows Apps (C# with WinUI 3 and the Windows App SDK). <br  />
 This is also when I figured that a GUI is worth the effort.</li>
<li>Finally, due to the aforementioned reasons, this was created in C++ with the Win32 API and Qt6 for the UI.</li>
</ol>
<h1><a class="anchor" id="how-it-works"></a>
How it works</h1>
<ol type="1">
<li>A socket connection is established between the client and the server.</li>
<li>The server uses <a href="https://docs.microsoft.com/en-us/windows/win32/api/winuser/nf-winuser-sendinput">the SendInput() function</a> to synthesize keystrokes, mouse motions, and button clicks depending on the input from the client. <br  />
 It has the following implications:<ul>
<li>The virtual gamepad is not limited to games. You can use the virtual gamepad to control any application on the computer.</li>
<li>Games that use DirectInput or XInput do not recognize input from the virtual gamepad as gamepad input but as keyboard and mouse input. If required, the controls have to be remapped in the game.</li>
</ul>
</li>
<li>The buttons on the virtual gamepad are mapped to the keyboard keys and mouse actions using the maps at <a class="el" href="executor_8hpp.html">src/networking/executor.hpp</a>. <br  />
 <b>Note: The right analog thumbstick is mapped to the mouse, not the arrow keys.</b> <br  />
 User defined maps are not supported, <em>yet</em>.</li>
</ol>
<h1><a class="anchor" id="build-instructions"></a>
Build Instructions</h1>
<h2><a class="anchor" id="prerequisites"></a>
Prerequisites</h2>
<ul>
<li><a href="https://www.qt.io/download-open-source">Qt 6.5</a></li>
<li><a href="https://cmake.org/download/">CMake</a></li>
</ul>
<h2><a class="anchor" id="cloning-and-building"></a>
Cloning and Building</h2>
<p>Clone the repository and submodules.</p>
<div class="fragment"><div class="line">git clone --recurse-submodules https://github.com/kitswas/VirtualGamePad-PC.git</div>
</div><!-- fragment --><p>Open the project (open the CMakeLists.txt file in the project root) in Qt Creator and build it.</p>
<h2><a class="anchor" id="code-formatting"></a>
Code Formatting</h2>
<p>This project uses <a href="https://clang.llvm.org/docs/ClangFormat.html">clang-format</a> for code formatting. <br  />
 It includes a PowerShell script to format the code. Run</p>
<div class="fragment"><div class="line">./code-lint.ps1</div>
</div><!-- fragment --><p>from the project root to format the code. <br  />
 <b>Note: This script requires clang-format to be installed and available in the PATH.</b></p>
<h2><a class="anchor" id="generating-documentation"></a>
Generating Documentation</h2>
<p>This project uses <a href="https://www.doxygen.nl/index.html">Doxygen</a> to generate documentation. <br  />
 If Doxygen is available on your system, <br  />
 You can generate the documentation by running the following command:</p>
<div class="fragment"><div class="line">doxygen Doxyfile</div>
</div><!-- fragment --><p>This repository has automated workflow via Github Actions. <br  />
 Documentation is auto-generated and deployed to Github Pages. <br  />
 Disable Actions on your own copy or delete the <a href="./.github/workflows">workflows</a> folder if you do not want to be billed. This is <b>not my responsiblity.</b> </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sat Dec 16 2023 for VGamepad PC by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
